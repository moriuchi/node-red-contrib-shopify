<script type="text/x-red" data-help-name="shopify-customers">
  <p>Shopify REST Admin APIを使用して、<code>Resources</code>および<code>Methods</code>で選択した以下の処理を実行します。</p>
  <ul>
    <li>Customer
      <ul>
        <li>List</li>
        <li>Get</li>
        <li>Create</li>
        <li>Update</li>
        <li>Delete</li>
      </ul>
    </li>
    <li>Customer Address
      <ul>
        <li>List</li>
        <li>Get</li>
        <li>Create</li>
        <li>Update</li>
        <li>Delete</li>
      </ul>
    </li>
  </ul>

  <h3>入力</h3>
    <dl class="message-properties">
        <dt>customerId <span class="property-type">文字列</span></dt>
        <dd>選択した処理を実行するをCustomer IDを入力します。</dd>
        <dt>addressId <span class="property-type">文字列</span></dt>
        <dd>選択した処理を実行するCustomer Address IDを入力します。</dd>
        <dt>dataJson <span class="property-type">文字列 | オブジェクト</span></dt>
        <dd>選択した処理を実行するデータのJSONオブジェクトを入力します。</dd>
    </dl>

  <h3>出力</h3>
    <dl class="message-properties">
        <dt>payload <span class="property-type">オブジェクト</span></dt>
        <dd>選択した処理の実行結果を出力します。</dd>
    </dl>

  <h3>詳細</h3>
  <h4>Customer</h4>
  <h5>List</h5>
    <p>顧客のリストを取得します。</p>
    <p>取得した顧客リストを出力します。</p>

  <h5>Get</h5>
    <p>指定した1人の顧客を取得します。</p>
    <p><code>msg.customerId</code>に取得する顧客のIDを入力します。</p>
    <p>取得した顧客レコードを出力します。</p>

  <h5>Create</h5>
    <p>新しい顧客を作成します。</p>
    <p><code>msg.dataJson</code>に作成するレコードのデータを入力します。</p>
    <pre>{"first_name": "taro",
  "last_name": "test",
  "email": "taro@example.com"}</pre>
    <p>作成した顧客レコードを出力します。</p>

  <h5>Update</h5>
    <p>指定した顧客のレコードを更新します。</p>
    <p><code>msg.customerId</code>に更新する顧客のIDを入力します。</p>
    <p><code>msg.dataJson</code>に更新するレコードのデータを入力します。</p>
    <pre>{"phone": "03-1111-2222"}</pre>
    <p>更新した顧客レコードを出力します。</p>

  <h5>Delete</h5>
    <p>指定した顧客のレコードを削除します。</p>
    <p><code>msg.customerId</code>に削除する顧客のIDを入力します。</p>
    <p>削除したレコード(empty)を出力します。</p>

  <h4>Customer Address</h4>
  <h5>List</h5>
    <p>顧客の住所リストを取得します。</p>
    <p><code>msg.customerId</code>に住所を取得する顧客のIDを入力します。</p>
    <p>取得した顧客の住所リストを出力します。</p>

  <h5>Get</h5>
    <p>指定した1つの顧客住所を取得します。</p>
    <p><code>msg.customerId</code>に住所を取得する顧客のIDを入力します。</p>
    <p><code>msg.addressId</code>に取得する顧客住所のIDを入力します。</p>
    <p>取得した顧客住所レコードを出力します。</p>

  <h5>Create</h5>
    <p>顧客の新しい住所を作成します。</p>
    <p><code>msg.customerId</code>に住所を作成する顧客のIDを入力します。</p>
    <p><code>msg.dataJson</code>に作成するレコードのデータを入力します。</p>
    <pre>{"country": "Japan",
  "city": "Tokyo"}</pre>
    <p>作成した顧客住所レコードを出力します。</p>

  <h5>Update</h5>
    <p>指定した顧客住所のレコードを更新します。</p>
    <p><code>msg.customerId</code>に住所を更新する顧客のIDを入力します。</p>
    <p><code>msg.addressId</code>に更新する顧客住所のIDを入力します。</p>
    <p><code>msg.dataJson</code>に更新するレコードのデータを入力します。</p>
    <pre>{"zip": "105-0001"}</pre>
    <p>更新した顧客住所レコードを出力します。</p>

  <h5>Delete</h5>
    <p>指定した顧客住所のレコードを削除します。</p>
    <p><code>msg.customerId</code>に住所を削除する顧客のIDを入力します。</p>
    <p><code>msg.addressId</code>に削除する顧客住所のIDを入力します。</p>
    <p>削除したレコード(empty)を出力します。</p>

  <p></p>
  <p><b>注</b>: 入力項目はノードの編集ダイアログでも入力可能ですが、<code>msg.xx</code>で渡された値が優先されます。</p>

<h3>参照</h3>
  <p>詳細は、Shopify REST Admin API reference を参照してください。</p>
  <ul>
    <li><a href="https://shopify.dev/api/admin-rest/2022-07/resources/customer">Customer</a></li>
    <li><a href="https://shopify.dev/api/admin-rest/2022-07/resources/customer-address">Customer Address</a></li>
  </ul>
</script>